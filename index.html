<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ุงูุดูุฎ ููุณู ุฃุญูุฏ ุงูุฎูุงููุฉ</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ุดุงุดุฉ ุงูุจุฏุงูุฉ -->
  <div id="overlay">
    <div class="popup">
      <h2>ุตููู ุนูู ุงููุจู ๏ทบ</h2>
      <p>ูุจู ุฃู ุชุชุตูุญ ุงููููุนุ ุตููู ูุณูู ุนูู ุฎูุฑ ุงูุฃูุงู.</p>
      <button id="enterBtn" onclick="onEnter()">ุงูููู ุตููู ูุณูู ุนููู</button>
    </div>
  </div>

  <!-- ุฒุฑ ุชุณุฌูู ุงูุฏุฎูู ุงูุตุบูุฑ ุฌุฏุงู ูู ุงูุฒุงููุฉ -->
  <div id="cornerControls">
    <button id="cornerLogin" class="corner-btn" title="ุชุณุฌูู ุฏุฎูู ุงููุดุฑู">๐</button>
  </div>

  <header class="hero">
    <div class="overlay-hero"></div>
    <div class="hero-content">
      <img src="https://yt3.googleusercontent.com/co-iJ8X1CeyQWoeqU8TspcCyVNY_pPLZTP_LHpEPi73b39Pql8nAXpObTgl1Qs2Cle6IorGSyA=s160-c-k-c0x00ffffff-no-rj" class="logo" />
      <h1>ุงูุดูุฎ ููุณู ุฃุญูุฏ ุงูุฎูุงููุฉ</h1>
      <p>ููุจุฑ ุนูู ูุฎูุฑ ๐</p>
    </div>
  </header>

  <nav class="navbar">
    <a data-section="videosPage">๐บ ุงูููุฏูููุงุช</a>
    <a data-section="booksPage">๐ ุงูููุชุจุฉ</a>
    <a data-section="tipsPage">๐ฟ ุฅุฑุดุงุฏุงุช</a>
    <a data-section="postsPage">โ๏ธ ุงููุดุงุฑูุงุช</a>
  </nav>

  <button id="backBtn" class="back-btn" style="display:none;">โฌ ุฑุฌูุน</button>

  <main>
    <!-- ุงูููุฏูููุงุช -->
    <section id="videosPage" class="page visible">
      <h2>๐บ ุงูููุฏูููุงุช</h2>
      <div id="videos" class="videos-grid"></div>
    </section>

    <!-- ุงูููุชุจุฉ -->
    <section id="booksPage" class="page">
      <h2>๐ ุงูููุชุจุฉ</h2>
      <form id="upload-book" class="upload-box" style="display:none;">
        <input type="text" name="title" placeholder="ุงุณู ุงููุชุงุจ" required />
        <input type="url" name="url" placeholder="ุฑุงุจุท ุงููุชุงุจ ูู Google Drive" required />
        <button type="submit">ุฅุถุงูุฉ ุงููุชุงุจ</button>
      </form>
      <div id="book-list" class="books-grid"></div>
    </section>

    <!-- ุงูุฅุฑุดุงุฏุงุช -->
    <section id="tipsPage" class="page">
      <h2>๐ฟ ุฅุฑุดุงุฏุงุช</h2>
      <form id="upload-tip" class="upload-box" style="display:none;">
        <textarea name="text" placeholder="ุฃุฏุฎู ุงููุต ููุง..." rows="4" required></textarea>
        <button type="submit">ุฅุถุงูุฉ ุงูุฅุฑุดุงุฏ</button>
      </form>
      <div id="tip-list" class="books-grid"></div>
    </section>

    <!-- ุงููุดุงุฑูุงุช -->
    <section id="postsPage" class="page">
      <h2>โ๏ธ ุงููุดุงุฑูุงุช</h2>
      <form id="upload-post" class="upload-box" style="display:none;">
        <input type="text" name="title" placeholder="ุนููุงู ุงููุดุงุฑูุฉ" required />
        <textarea name="description" placeholder="ูุตู ุงููุดุงุฑูุฉ..." rows="3"></textarea>
        <input type="file" name="videoFile" accept="video/*" />
        <p style="font-size:0.9em;color:#bbb">ุฅุฐุง ูู ุชุฑูุน ููุฏูู ููููู ูุตู ุฑุงุจุท ุงูููุฏูู ุนูุฏ ุงูุทูุจ.</p>
        <button type="submit">ูุดุฑ ุงููุดุงุฑูุฉ</button>
      </form>
      <div id="post-list" class="books-grid"></div>
    </section>
  </main>

  <footer>
    <div class="channels">
      <span>ุงููููุงุช:</span>
      <a id="tgBtn" class="channel-btn" target="_blank" rel="noopener noreferrer">ููุงุฉ ุงูุชูุฌุฑุงู</a>
      <a id="waBtn" class="channel-btn" target="_blank" rel="noopener noreferrer">ุฌุฑูุจ ุงููุงุชุณุงุจ</a>
    </div>

    <div id="adminAreaPlaceholder" class="admin-area-placeholder"></div>

    <p>ยฉ 2025 / 1447 ูู โ ูููุน ุงูุดูุฎ ููุณู ุฃุญูุฏ ุงูุฎูุงููุฉ</p>
  </footer>

  <!-- ูุงูุฐุฉ ุชุณุฌูู ุงูุฏุฎูู (Fallback: username+password but backend checks password by x-admin-pass) -->
  <div id="loginModal" class="modal hidden" aria-hidden="true">
    <div class="modal-card">
      <h3>ุชุณุฌูู ุฏุฎูู ุงููุดุฑู</h3>
      <form id="loginForm">
        <input type="text" name="username" placeholder="ุงุณู ุงููุณุชุฎุฏู (ูุซุงู: sayafbadarin)" required />
        <input type="password" name="password" placeholder="ูููุฉ ุงููุฑูุฑ" required />
        <div style="margin-top:10px">
          <button type="submit">ุฏุฎูู</button>
          <button type="button" id="loginCancel">ุฅูุบุงุก</button>
        </div>
      </form>
      <p id="loginMsg" style="color:#f66;margin-top:8px;"></p>
    </div>
  </div>

  <!-- ููุญุฉ ุงููุดุฑู (ุชุธูุฑ ููุท ูููุดุฑู ุงูุฑุฆูุณู) -->
  <div id="adminPanel" class="admin-panel hidden" aria-hidden="true">
    <div class="admin-card">
      <h4>ููุญุฉ ุงูุฅุฏุงุฑุฉ</h4>

      <div id="superadminControls" style="display:none;margin-bottom:12px;">
        <h5>ุฅูุดุงุก ูุดุฑู ูุญูู (ูุญูู ููุท)</h5>
        <form id="createLocalAdminForm">
          <input name="newUsername" placeholder="ุงุณู ุงููุณุชุฎุฏู" required />
          <input name="newPassword" placeholder="ูููุฉ ุงููุฑูุฑ" required />
          <button type="submit">ุฅูุดุงุก (ูุญูู)</button>
        </form>

        <h5 style="margin-top:12px;">ูุงุฆูุฉ ุงููุดุฑููู ุงููุญูููู</h5>
        <div id="localAdminsList"></div>
      </div>

      <h5>ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุงูุนุงูููุฉ (ุงูุฎุงุฏู)</h5>
      <form id="changeGlobalPassForm">
        <input name="currentPassword" type="password" placeholder="ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ" required />
        <input name="newPassword" type="password" placeholder="ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ" required />
        <button type="submit">ุชุบููุฑ ุนูู ุงูุฎุงุฏู</button>
      </form>

      <div style="margin-top:10px;display:flex;gap:8px;justify-content:center;">
        <button id="panelLogout" class="inline-logout">ุชุณุฌูู ุฎุฑูุฌ</button>
        <button id="closeAdminPanel" class="close-admin">ุฅุบูุงู</button>
      </div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>
